{"version":3,"sources":["components/hoc/withAuthRedirect.js","components/Dialogs/Dialogs.module.css","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Message","className","status","src","message","Dialogs","messagesElements","messagesData","map","el","id","s","dialogs","messages","onChange","e","text","target","value","onMessageChange","placeholder","newMessageText","onClick","addNewMessage","compose","dialogsPage","dispatch","addMessageActionCreator","onMessageChangeActionCreator"],"mappings":"+NAIIA,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAKVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKC,MAAMN,OAET,cAACG,EAAD,eAAeE,KAAKC,QAFI,cAAC,IAAD,CAAUC,GAAG,eAHT,GACXC,IAAML,WAUtC,OAFqCM,YAAQX,EAARW,CAAqCL,K,oBClB9EM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,KAAO,sBAAsB,SAAW,0BAA0B,OAAS,wBAAwB,SAAW,4B,mGCYxMC,EAAU,SAACN,GACb,OAAO,sBAAKO,UAAWP,EAAMQ,OAAtB,UAEH,qBAAKC,IAAI,0HACRT,EAAMU,YAqCAC,EAlCC,SAACX,GAEb,IAAIY,EAAmBZ,EAAMa,aAAaC,KAAI,SAACC,GAAS,OAAO,cAAC,EAAD,CAASC,GAAID,EAAGC,GAAIN,QAASK,EAAGL,QAAqBF,OAAQO,EAAGP,QAAlBO,EAAGC,OAe9G,OACE,qBAAKT,UAAWU,IAAEC,QAAlB,SAEI,sBAAKX,UAAWU,IAAEE,SAAlB,UACKP,EAEL,iCACI,0BAAUQ,SAfA,SAACC,GACnB,IAAIC,EAAOD,EAAEE,OAAOC,MACpBxB,EAAMyB,gBAAgBH,IAauBI,YAAY,qBAAqBF,MAAOxB,EAAM2B,iBACnF,8BACI,wBAAQC,QArBJ,WAChB5B,EAAM6B,iBAoBM,4B,iBCjBLC,sBACX3B,aAtBoB,SAACV,GACrB,MAAO,CACHoB,aAAcpB,EAAMsC,YAAYlB,aAChCc,eAAgBlC,EAAMsC,YAAYJ,mBAIf,SAACK,GACxB,MAAO,CACHH,cAAe,WACXG,EAASC,gBAGbR,gBAAiB,SAACH,GACdU,EAASE,YAA6BZ,SAS9C1B,IAFWkC,CAGbnB","file":"static/js/3.1cb0f7bf.chunk.js","sourcesContent":["import { Redirect } from 'react-router';\r\nimport React from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n  })\r\n\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect) (RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3HT2U\",\"dialogItems\":\"Dialogs_dialogItems__2d-OE\",\"sent\":\"Dialogs_sent__wDHQu\",\"recieved\":\"Dialogs_recieved__M0Bi2\",\"active\":\"Dialogs_active__3aRo3\",\"messages\":\"Dialogs_messages__26VhD\"};","import s from './Dialogs.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport React from 'react';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return <div className={s.dialog + ' ' + s.active}>\r\n        <img src={props.avatar} />\r\n        <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n}\r\n\r\nconst Message = (props) => {\r\n    return <div className={props.status}>\r\n\r\n        <img src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Purple_circle_100%25.svg/220px-Purple_circle_100%25.svg.png' />\r\n        {props.message}</div>\r\n}\r\n\r\nconst Dialogs = (props) => {\r\n    \r\n    let messagesElements = props.messagesData.map((el) => { return <Message id={el.id} message={el.message} key={el.id} status={el.status} />\r\n    })\r\n\r\n    let addNewMessage = () => {\r\n        props.addNewMessage();\r\n\r\n    }\r\n    let onMessageChange = (e) => {\r\n        let text = e.target.value;\r\n        props.onMessageChange(text)\r\n    }\r\n\r\n\r\n    \r\n\r\n      return (\r\n        <div className={s.dialogs}>\r\n\r\n            <div className={s.messages}>\r\n                {messagesElements}\r\n\r\n            <form>\r\n                <textarea onChange={onMessageChange} placeholder='Enter your message' value={props.newMessageText}></textarea>\r\n                <div>\r\n                    <button onClick={addNewMessage}>Add</button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { onMessageChangeActionCreator, addMessageActionCreator } from '../../redux/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\nimport {withAuthRedirect} from './../hoc/withAuthRedirect'\r\nimport { compose } from 'redux';\r\n\r\n\r\nconst mapStateToProps = (state) => {     \r\n    return {\r\n        messagesData: state.dialogsPage.messagesData,\r\n        newMessageText: state.dialogsPage.newMessageText\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addNewMessage: () => {\r\n            dispatch(addMessageActionCreator())\r\n        },\r\n\r\n        onMessageChange: (text) => {\r\n            dispatch(onMessageChangeActionCreator(text))\r\n        }\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs) \r\n\r\n"],"sourceRoot":""}