(this["webpackJsonpreact-pr1"]=this["webpackJsonpreact-pr1"]||[]).push([[3],{249:function(t,e,s){"use strict";s.d(e,"a",(function(){return b}));var n=s(2),i=s(4),a=s(5),c=s(10),r=s(11),u=s(3),o=s(0),j=s.n(o),p=s(22),l=s(1),d=function(t){return{isAuth:t.auth.isAuth}},b=function(t){var e=function(e){Object(c.a)(o,e);var s=Object(r.a)(o);function o(){return Object(i.a)(this,o),s.apply(this,arguments)}return Object(a.a)(o,[{key:"render",value:function(){return this.props.isAuth?Object(l.jsx)(t,Object(n.a)({},this.props)):Object(l.jsx)(u.a,{to:"/login"})}}]),o}(j.a.Component);return Object(p.b)(d)(e)}},251:function(t,e,s){t.exports={description:"ProfileInfo_description__1YBCi"}},252:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__1YSs3",posts:"MyPosts_posts__179A9"}},253:function(t,e,s){t.exports={item:"Post_item__GuOOt"}},255:function(t,e,s){"use strict";s.r(e);var n=s(2),i=s(4),a=s(5),c=s(10),r=s(11),u=s(39),o=s(251),j=s.n(o),p=s(26),l=s(0),d=s.n(l),b=s(1),O=function(t){var e=Object(l.useState)(t.status),s=Object(p.a)(e,2),n=s[0],i=s[1],a=Object(l.useState)(!1),c=Object(p.a)(a,2),r=c[0],u=c[1];Object(l.useEffect)((function(){i(t.status)}),[t.status]);return Object(b.jsxs)("div",{children:[!r&&Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){return u(!0)},children:t.status||"-----"})}),r&&Object(b.jsx)("div",{children:Object(b.jsx)("input",{onChange:function(t){return i(t.target.value)},onMouseLeave:function(){return u(!1),void t.updateStatus(n)},value:n,autoFocus:!0})})]})},f=function(t){return t.profile?Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:j.a.description,children:[Object(b.jsx)("img",{src:t.profile.photos.large}),Object(b.jsx)(O,{status:t.status,updateStatus:t.updateStatus})]})}):Object(b.jsx)(u.a,{})},h=s(22),x=s(71),v=s(252),g=s.n(v),m=s(253),S=s.n(m),k=function(t){return Object(b.jsxs)("div",{className:S.a.item,children:[Object(b.jsx)("img",{src:"https://cs13.pikabu.ru/post_img/2021/04/15/5/og_og_1618467397286014585.jpg"}),t.message,Object(b.jsxs)("div",{children:[t.likeCount," likes"]})]})},_=s(29),M=s(55),P=function(t){var e=t.posts.map((function(t){return Object(b.jsx)(k,{message:t.message,likeCount:t.likeCount})})),s=M.a().shape({textOfMessage:M.b().typeError("\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u043e\u0439").min(1,"\u041d\u0430\u043f\u0438\u0448\u0438 \u0445\u043e\u0442\u044c \u0447\u0442\u043e \u0442\u043e").max(10,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")});return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:g.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)("div",{children:Object(b.jsx)(_.d,{initialValues:{textOfMessage:""},validateOnBlur:!0,onSubmit:function(e){var s;s=e.textOfMessage,t.addPost(s)},validationSchema:s,children:function(t){var e=t.values,s=t.errors,n=t.touched,i=t.handleChange,a=t.handleBlur,c=(t.isValid,t.handleSubmit);t.dirty;return Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"text",name:"textOfMessage",onChange:i,onBlur:a,value:e.textOfMessage}),n.textOfMessage&&s.textOfMessage&&Object(b.jsx)("p",{children:s.textOfMessage}),Object(b.jsx)("button",{disabled:!n.textOfMessage,onClick:c,type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}})}),Object(b.jsx)("div",{className:g.a.posts,children:e})]}),Object(b.jsx)("div",{})]})},y=Object(h.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(x.a)(e))},onPostChange:function(e){t(Object(x.d)(e))}}}))(P),C=function(t){return Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(b.jsx)(y,{})]})},B=s(3),w=(s(249),s(31)),A=function(t){Object(c.a)(s,t);var e=Object(r.a)(s);function s(){return Object(i.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;this.props.setUser(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(C,Object(n.a)(Object(n.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),s}(d.a.Component);e.default=Object(w.c)(Object(h.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),{setUser:x.e,updateStatus:x.f,getStatus:x.c}),B.f)(A)}}]);
//# sourceMappingURL=3.1d848a1d.chunk.js.map